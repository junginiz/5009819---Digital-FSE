Scenario 1: Applying a Discount to Loan Interest Rates for Customers Above 60 Years Old
DECLARE
    CURSOR customer_cursor IS
        SELECT customer_id, age, loan_interest_rate
        FROM customers
        WHERE age > 60;
    
    customer_record customers%ROWTYPE;
    
BEGIN
    FOR customer_record IN customer_cursor LOOP
        UPDATE loans
        SET loan_interest_rate = loan_interest_rate - 1
        WHERE customer_id = customer_record.customer_id;
        
        DBMS_OUTPUT.PUT_LINE('Applied discount to customer ID: ' || customer_record.customer_id);
    END LOOP;
    
    COMMIT;
END;
/
Scenario 2: Promoting Customers to VIP Status Based on Their Balance
DECLARE
    CURSOR customer_cursor IS
        SELECT customer_id, balance
        FROM customers
        WHERE balance > 10000;
    
    customer_record customers%ROWTYPE;
    
BEGIN
    FOR customer_record IN customer_cursor LOOP
        UPDATE customers
        SET IsVIP = TRUE
        WHERE customer_id = customer_record.customer_id;
        
        DBMS_OUTPUT.PUT_LINE('Promoted to VIP status for customer ID: ' || customer_record.customer_id);
    END LOOP;
    
    COMMIT;
END;
/
Scenario 3: Sending Reminders to Customers Whose Loans Are Due Within the Next 30 Days
DECLARE
    CURSOR loan_cursor IS
        SELECT customer_id, loan_id, due_date
        FROM loans
        WHERE due_date BETWEEN SYSDATE AND SYSDATE + 30;
    
    loan_record loans%ROWTYPE;
    
BEGIN
    FOR loan_record IN loan_cursor LOOP
        DBMS_OUTPUT.PUT_LINE('Reminder: Loan ID ' || loan_record.loan_id || ' for customer ID ' || loan_record.customer_id || ' is due on ' || loan_record.due_date);
    END LOOP;
END;
/


